# 长轮询
tornado 能够轻松的处理HTTP长轮询。更新用户状态，发送消息提醒，实时的进行更新。

长轮询意味着浏览器只需要启动一个HTTP 请求，其连接的服务器就会有意地保持开启状态。浏览只需等待更新可以用的时候进行响应。

长轮询极大地减少了Web服务器的负载。

例子为 根据多个购物者浏览器更新零售商库存的计数服务。


#🌰说明
打开三个浏览器 同时访问 商品的库存显示的永远是实时的库存，一个人加入购物车，另外两个客户端商品数量随着变化  

## 一  DetailHandler
### 商品的页面展示
1. 为每一个页面产生一个唯一的标致符 对应的 session
2. 第一次客户端访问的时候，就是渲染的index 模板
 
## 二 CartHandler 
### 商品添加到购物车 或者 从购物车删除的API 
1. 前端加入到购物车调用
2. 前端从购物车中删除调用


 

